--- 
title: "现代统计图形（第二版）"
author: "黄湘云"
date: "`r Sys.Date()`"
site: bookdown::bookdown_site
documentclass: book
papersize: b5
fontsize: 10pt
graphics: yes
colorlinks: yes
lot: yes
lof: yes
geometry:
  - tmargin=2.5cm
  - bmargin=2.5cm
  - lmargin=3.0cm
  - rmargin=2.0cm
classoption: "UTF8,twoside,openany,table"
hyperrefoptions:
  - linktoc=all
  - pdfstartview=FitH
  - bookmarksnumbered=true
link-citations: yes
bibliography: 
  - book.bib
url: https://bookdown.org/xiangyun/msg2
# cover-image: path to the social sharing image like images/cover.jpg
description: |
  现代统计图形（第二版）.
biblio-style: gb7714-2015ay
biblatexoptions: 
  - backend=biber
  - gbpub=true
csl: china-national-standard-gb-t-7714-2015-author-date.csl
---



# 欢迎 {#welcome .unnumbered}

《现代统计图形》[@msg2021]

书籍字体设置

代码字体 Source Code Pro
中文字体 宋体和黑体

图形字体设置

```bash
brew tap homebrew/cask-fonts 
brew install font-noto-serif font-noto-serif-cjk-sc
```

See Figure \@ref(fig:nice-fig).

```{r add-noto-font}
sysfonts::font_add_google(name = "Noto Serif", family = "Noto Serif")
sysfonts::font_add_google(name = "Noto Serif SC", family = "Noto Serif SC")
```

```{r nice-fig, fig.cap='中英文字体在 Base R 图里', out.width='75%', fig.width=4.5, fig.height=3.5, fig.align='center', fig.alt='汞蒸气的压力随温度的指数级变化', fig.showtext=TRUE}
par(mar = c(4, 4, .2, .1), family = "Noto Serif")
plot(pressure, type = 'b', pch = 19, ann = FALSE)
title(xlab = "温度", ylab = "压力", family = "Noto Serif SC")
```


```{r nice-fig2, fig.cap="中英文字体在 ggplot2 图里", out.width='75%', fig.width=4.5, fig.height=3.5, fig.align='center', fig.showtext=TRUE}
library(ggplot2)
ggplot(data = pressure, aes(x = temperature, y = pressure)) +
  geom_line() +
  geom_point() +
  labs(x = "温度", y = "压力") +
  theme(
    axis.title = element_text(family = "Noto Serif SC"),
    axis.text = element_text(family = "Noto Serif")
  )
```

## 软件信息 {#session .unnumbered}

本书写作过程中，依赖 knitr [@xie2015]、rmarkdown [@xie2018; @xie2020] 和 bookdown [@xie2016]

```{r}
xfun::session_info(packages = c(
  "knitr", "rmarkdown", "bookdown", "ggplot2"
), dependencies = FALSE)
```
